---
import BaseLayout from '../layouts/BaseLayout.astro';
import ContactCTA from '../components/ContactCTA.astro';
import Hero from '../components/Hero.astro';
import Icon from '../components/Icon.astro';
---

<BaseLayout title="Servicios | Tu Nombre" description="Descubre los servicios de diseño UX/UI y gestión de productos que ofrezco">
    <div class="stack gap-20">
        <main class="wrapper stack gap-8">
            <Hero
                title="Mis Servicios"
                tagline="Transforma tu idea en una realidad digital con mi ayuda."
                align="start"
            />

            <section class="section with-background bg-variant">
                <div class="section-content">
                    <h2 class="section-title">¿Por qué trabajar conmigo?</h2>
                    <p class="section-introduction">
                        Como diseñadora autodidacta y Product Manager en constante aprendizaje, traigo una perspectiva fresca y apasionada a cada proyecto. Mi enfoque se centra en la creatividad, la resolución de problemas y la colaboración efectiva.
                    </p>
                    <div class="service-list">
                        <div class="service-item">
                            <Icon icon="diamond" />
                            <h3>Diseño Centrado en el Usuario</h3>
                            <p>Creo interfaces intuitivas y visualmente atractivas que proporcionan una excelente experiencia de usuario.</p>
                        </div>
                        <div class="service-item">
                            <Icon icon="strategy"/>
                            <h3>Estrategia de Producto</h3>
                            <p>Desarrollo estrategias innovadoras para asegurar que tu producto tenga éxito en el mercado.</p>
                        </div>
                        <div class="service-item">
                            <Icon icon="collaboration" />
                            <h3>Colaboración Creativa</h3>
                            <p>Trabajo en equipo para convertir ideas en soluciones efectivas y prácticas.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section with-background">
                <div class="section-content">
                    <h2 class="section-title">Solicita una Cotización</h2>
                    <p class="section-introduction">
                        <b>¡Demos el primer paso juntos!</b> Llena el siguiente formulario para recibir una cotización personalizada para tu proyecto. Esta información me ayudará a comprender mejor tus necesidades y objetivos.
                    </p>
                    <form id="cotizacion-form" method="POST" class="form-container">
                        <label for="nombre">
                            Nombre
                            <input type="text" id="nombre" name="nombre" required>
                        </label>
                        <label for="email">
                            Email
                            <input type="email" id="email" name="email" required>
                        </label>
                        <label for="empresa">
                            Empresa
                            <input type="text" id="empresa" name="empresa">
                        </label>
                        <label for="proyecto">
                            Describe tu proyecto
                            <textarea id="proyecto" name="proyecto" rows="4" required></textarea>
                            <small>Cuéntame brevemente sobre tu idea o proyecto digital.</small>
                        </label>
                        <label for="objetivos">
                            Objetivos del proyecto
                            <textarea id="objetivos" name="objetivos" rows="4" required></textarea>
                            <small>¿Qué esperas lograr con este proyecto?</small>
                        </label>
                        <label for="presupuesto">
                            Presupuesto estimado
                            <input type="text" id="presupuesto" name="presupuesto">
                            <small>Un rango aproximado nos ayudará a ajustar la propuesta.</small>
                        </label>
                        <label for="fecha">
                            Fecha deseada para la primera reunión
                            <input type="date" id="fecha" name="fecha">
                        </label>
                        <label for="referencias">
                            Referencias visuales (opcional)
                            <input type="file" id="referencias" name="referencias" accept="image/*" multiple>
                            <small>Sube imágenes que te inspiren o ejemplos de lo que te gusta.</small>
                        </label>
                        <div class="button-container">
                            <button type="submit">Enviar Solicitud</button>
                        </div>
                    </form>
                </div>
            </section>
        </main>
        <ContactCTA />
    </div>
</BaseLayout>

<style>
    .section {
        padding: 3.5rem 0;
    }

    .section-content {
        max-width: 65ch;
        margin: 0 auto;
    }

    .section-title {
        font-size: var(--text-3xl);
        color: var(--gray-0);
        text-align: center;
        margin-bottom: 1.5rem;
    }

    .section-introduction {
        font-size: var(--text-2xl);
        text-align: center;
        color: var(--gray-300);
        margin-bottom: 2.5rem;
    }

    .service-list {
        display: grid;
        gap: 1.1rem; 
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
        padding: 0;
    }

    .service-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1rem;
        padding: 1.5rem; /* Reduce the padding */
        background-color: var(--gray-999_40);
        border-radius: 0.75rem;
        box-shadow: var(--shadow-sm);
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .service-item:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }

    .service-item h3 {
        font-size: var(--text-lg); /* Reduce the font size */
        color: var(--gray-0);
    }

    .service-item p {
        font-size: var(--text-sm); /* Reduce the font size */
        color: var(--gray-300);
    }

    .form-container {
        max-width: 600px;
        margin: 0 auto;
        display: grid;
        gap: 1.5rem;
    }

    label {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        font-size: var(--text-md);
        color: var(--gray-200);
    }

    input, textarea {
        padding: 0.75rem;
        border: 1px solid var(--gray-800);
        border-radius: 0.25rem;
        font-size: var(--text-md);
        background-color: var(--gray-999);
        color: var(--gray-200);
    }

    input:focus, textarea:focus {
        border-color: var(--accent-regular);
        box-shadow: 0 0 0 2px var(--accent-light);
        outline: none;
    }

    small {
        font-size: var(--text-sm);
        color: var(--gray-400);
    }

    .button-container {
        display: flex;
        justify-content: center;
        margin-top: 2rem;
    }

    button {
        padding: 0.75rem 2rem;
        background-color: var(--accent-regular);
        color: var(--accent-text-over);
        border: none;
        border-radius: 6rem;
        font-size: var(--text-md);
        cursor: pointer;
        transition: background-color 0.2s ease-in-out, transform 0.2s;
    }

    button:hover {
        background-color: var(--accent-dark);
        transform: translateY(-3px);
    }

    @media (min-width: 50em) {
        .section {
            padding: 5rem 0;
        }

        .section-title {
            font-size: var(--text-4xl);
        }

        .section-introduction {
            font-size: var(--text-xl);
        }

        .service-item {
            padding: 2rem; /* Slightly reduce padding for larger screens */
        }
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector('#cotizacion-form') as HTMLFormElement;
        if (form) {
            form.addEventListener('submit', async (e: Event) => {
                e.preventDefault();
                const target = e.target as HTMLFormElement;
                const formData = new FormData(target);
                try {
                    const response = await fetch("https://formspree.io/f/mvgpgpzw", {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    if (response.ok) {
                        alert('¡Gracias por tu solicitud! Te contactaremos pronto.');
                        target.reset();
                    } else {
                        throw new Error('Error en el envío del formulario');
                    }
                } catch (error) {
                    alert('Lo siento, hubo un error al enviar el formulario. Por favor, intenta de nuevo más tarde.');
                }
            });
        }
    });
</script>
